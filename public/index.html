<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Unified Citizen Platform</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>

<body>

    <!-- Login Screen with Tabs -->
    <div id="login-screen" class="overlay">
        <div class="login-box">
            <h1>Civic Connect</h1>

            <div class="tabs">
                <button class="tab-btn active" onclick="switchTab('citizen')">Citizen</button>
                <button class="tab-btn" onclick="switchTab('admin')">Authority</button>
            </div>

            <div id="citizen-section" class="tab-content">
                <p>Report issues using your Google Account</p>
                <div id="buttonDiv"></div>
            </div>

            <!-- Admin Login Section -->
            <div id="admin-section" class="tab-content hidden">
                <p>Official Authority Access</p>
                <input type="text" id="adminUser" placeholder="Admin ID">
                <input type="password" id="adminPass" placeholder="Password">
                <button class="login-btn" onclick="adminLogin()">Login as Official</button>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="app" class="hidden">
        <header>
            <h2>Citizen Issue Reporting Platform</h2>
            <button onclick="logout()">Logout</button>
        </header>

        <main>
            <section id="report-form">
                <h3>Report a New Issue</h3>
                <input type="text" id="title" placeholder="Issue Title (e.g. Pothole)">
                <select id="category">
                    <option value="Roads">Roads & Transport</option>
                    <option value="Sanitation">Sanitation</option>
                    <option value="Electricity">Electricity</option>
                    <option value="Sevage">Sevage</option>
                </select>
                <textarea id="desc" placeholder="Describe the problem..."></textarea>
                <button onclick="getLocation()">üìç Tag Location</button>


                <div id="map" style="height: 300px; width: 100%; margin-top: 10px; display: none; border-radius: 8px;">
                </div>

                <script
                    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDg5NcO4_VEk0v3PwrqI0are0w1PsiXfV4&callback=initMap"
                    async defer></script>


                <span id="loc-status">Location not tagged</span>
                <input type="file" id="imageInput" accept="image/*">
                <button id="submit-btn" onclick="submitIssue()">Submit Report</button>
            </section>
            <!-- Feed Section -->
            <section id="feed">
                <h3>Recent Issues</h3>
                <div id="issues-list"></div>
            </section>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>